<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>

<body>
    <ul id="myList">

    </ul>

    <script>
        /* async await ar fetch er modhye difference holo
        async await e step by step kora hoi bole porte ektu subidha. 
        */


        // Introduction to async keyword before function
        async function hello(name) {
            return 'Hello ' + name;
        }
        const greeting = hello('Mofiz Vhai');
        console.log(greeting); // async lekhar karone eta ekta promise return korbe. 
        greeting.then(res => console.log(res));

        // Showing data by async keyword before function
        async function getData() {
            const response = await fetch('https://jsonplaceholder.typicode.com/users');
            // await keyword use kora hoise jate jotokhon na fetch er madhyome server theke data na ase, totokhon kisu return korbe na. 
            const data = await response.json();
            // data ta ke json e convert korar porjonto wait koro. totokhon kisu return korbe na. 
            console.log(data);
            return data;
        }
        getData().then(data => {
            displayData(data);
        });

        // Showing data by fetch element. 
        function loadData() {
            fetch('https://jsonplaceholder.typicode.com/users')
                .then(res => res.json())
                .then(data => {
                    displayData(data);
                })
        }

        function displayData(data) {
            // console.log(data);
            const totalList = document.getElementById('myList');
            for (let i = 0; i < data.length; i++) {
                const user = data[i];
                // console.log(user.name);
                const listElement = document.createElement('li');
                listElement.innerText = user.name;
                totalList.appendChild(listElement);

            }
        }

        loadData();
    </script>
</body>

</html>